# ================================
# ECharts Export Server 配置文件
# ================================

# 服务器配置
# ------------
# 服务器监听端口 (1-65535)
PORT=3000

# 运行环境 (development/production)
NODE_ENV=development

# 日志级别 (error/warn/info/debug)
LOG_LEVEL=info

# OSS配置 (可选 - 如不配置将使用本地存储)
# ------------------------------------------------
# 阿里云OSS访问密钥ID
OSS_ACCESS_KEY_ID=your_access_key_id

# 阿里云OSS访问密钥Secret
OSS_ACCESS_KEY_SECRET=your_access_key_secret

# OSS存储桶名称
OSS_BUCKET=your_bucket_name

# OSS区域 (例如: oss-cn-hangzhou, oss-cn-beijing)
OSS_REGION=oss-cn-hangzhou

# 自定义域名 (可选 - 用于生成图片URL)
OSS_CUSTOM_DOMAIN=

# 文件路径前缀 (可选 - 用于组织文件结构)
OSS_PATH_PREFIX=charts/

# 队列配置
# ----------
# 最大并发任务数 (1-100)
QUEUE_MAX_CONCURRENT=10

# 任务超时时间/秒 (30-3600)
QUEUE_TASK_TIMEOUT=300

# 任务重试次数 (0-10)
QUEUE_RETRY_ATTEMPTS=3

# 清理任务执行间隔/小时 (1-168)
CLEANUP_INTERVAL_HOURS=24

# 存储配置
# ----------
# 任务记录保留天数 (1-365)
TASK_RETENTION_DAYS=7

# ================================
# 配置说明
# ================================
#
# 1. 基本配置:
#    - PORT: 服务器监听端口，默认3000
#    - NODE_ENV: 影响日志级别和错误处理
#
# 2. OSS配置 (可选):
#    - 如果不配置OSS，图片将保存在本地 logs/ 目录
#    - 配置OSS后，图片将自动上传到阿里云OSS
#    - 需要同时设置 ACCESS_KEY_ID, ACCESS_KEY_SECRET, BUCKET
#
# 3. 队列配置:
#    - MAX_CONCURRENT: 同时处理的最大任务数
#    - TASK_TIMEOUT: 单个任务的最大执行时间
#    - RETRY_ATTEMPTS: 任务失败后的重试次数
#
# 4. 存储配置:
#    - TASK_RETENTION_DAYS: 任务记录和图片的保留时间
#    - 过期的任务和图片会被自动清理
#
# 5. 快速开始:
#    - 复制此文件为 .env
#    - 根据需要修改配置值
#    - 运行 npm run validate-config 验证配置
#    - 运行 npm run dev 启动开发服务器